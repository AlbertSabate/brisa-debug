function P(t,E){return["portal",{element:t,target:E}]}function h(t){return Object.assign(["HTML",{html:t},null],{[Symbol.for("isJSX")]:!0})}function d(t,E){return{id:E,defaultValue:t}}function z(){throw new Q("Not found")}class Q extends Error{constructor(t){super(t);this.name="NotFoundError"}}function L(t){return t instanceof Error&&t.name==="NotFoundError"}function U(t,E){let A=E?.renderMode??"reactivity";if(__BASE_PATH__)t=URL.canParse(t)?t:(__BASE_PATH__??"")+t;if(typeof window!=="undefined"){if(window._xm=A,window.fPath)t=window.fPath(t);location.assign(t);let m=(M)=>{M.preventDefault(),M.stopPropagation(),window.removeEventListener("error",m)};window.addEventListener("error",m)}let O=new Error(t);throw O.name=`navigate:${A}`,O}function S(t){return t instanceof Error&&t.name.startsWith("navigate:")}function I(t){return t instanceof Error&&t.name==="rerender"}function $(t){return I(t)||S(t)||L(t)}var V={is:$,isRerender:I,isNavigate:S,isNotFound:L},j=V;var g=/<(\w+) *>(.*?)<\/\1 *>|<(\w+) *\/>/,K={[Symbol.for("isJSX")]:!0},W=(t)=>Object.assign([null,{},t],K),p=/(?:\r\n|\r|\n)/g;function Y(t){if(!t.length)return[];let[E,A,O,m]=t.slice(0,4);return[[E||O,A||"",m]].concat(Y(t.slice(4,t.length)))}function C(t,E=[]){let A=t.replace(p,"").split(g);if(A.length===1)return t;let O=[],m=(N)=>O.push(W(N)),M=A.shift();if(M)m(M);let X=Y(A);for(let[N,n,_]of X){let x=E[N]||W(N);if(x[2]=n?C(n,E):n,m(x),_)m(_)}return O}function Z(t,E){let{allowEmptyStrings:A=!0}=E,O=new Intl.PluralRules(t),m=(N,n)=>{if(Array.isArray(N))return N.map((_)=>m(_,n));if(N instanceof Object)return s({obj:N,query:n,config:E,locale:t});return D({text:N,query:n,config:E,locale:t})},M=(N="",n,_)=>{let x=E._messages||{},f={...E.messages?.[t]||{},...x},F=b(O,f,N,E,n),R=T(f,F,E,_),J=typeof R==="object"?JSON.parse(JSON.stringify(R)):R,H=typeof J==="undefined"||typeof J==="object"&&!Object.keys(J).length||J===""&&!A,B=typeof _?.fallback==="string"?[_.fallback]:_?.fallback||[];if(H&&Array.isArray(B)&&B.length){let[G,...w]=B;if(typeof G==="string")return X(G,n,{..._,fallback:w})}if(H&&_&&_.hasOwnProperty("default")&&!B?.length)return _.default?m(_.default,n):_.default;if(H)return N;return m(J,n)},X=(N="",n,_)=>{let x=M(N,n,_);return _?.elements?C(x,_.elements):x};return X}function T(t,E="",A,O={returnObjects:!1}){let{keySeparator:m="."}=A||{},M=m?E.split(m):[E];if(E===m&&O.returnObjects)return t;let X=M.reduce((N,n)=>{if(typeof N==="string")return{};let _=N[n];return _||(typeof _==="string"?_:{})},t);if(typeof X==="string"||X instanceof Object&&O.returnObjects)return X;return}function b(t,E,A,O,m){if(!m||typeof m.count!=="number")return A;let M=`${A}_${m.count}`;if(T(E,M,O)!==void 0)return M;let X=`${A}_${t.select(m.count)}`;if(T(E,X,O)!==void 0)return X;let N=`${A}.${m.count}`;if(T(E,N,O)!==void 0)return N;let n=`${A}.${t.select(m.count)}`;if(T(E,n,O)!==void 0)return n;return A}function D({text:t,query:E,config:A,locale:O}){if(!t||!E)return t||"";let m=(_)=>_.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),{format:M=null,prefix:X="{{",suffix:N="}}"}=A.interpolation||{},n=N===""?"":`(?:[\\s,]+([\\w-]*))?\\s*${m(N)}`;return Object.keys(E).reduce((_,x)=>{let f=new RegExp(`${m(X)}\\s*${x}${n}`,"gm");return _.replace(f,(F,R)=>{return R&&M?M(E[x],R,O):E[x]})},t)}function s({obj:t,query:E,config:A,locale:O}){if(!E||Object.keys(E).length===0)return t;return Object.keys(t).forEach((m)=>{if(t[m]instanceof Object)s({obj:t[m],query:E,config:A,locale:O});if(typeof t[m]==="string")t[m]=D({text:t[m],query:E,config:A,locale:O})}),t}export{Z as translateCore,j as throwable,z as notFound,U as navigate,h as dangerHTML,P as createPortal,d as createContext};
